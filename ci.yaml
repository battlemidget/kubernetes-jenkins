# K8s Jenkin GIT repos
- scm:
    name: k8s-jenkins-jenkaas
    scm:
      - git:
          url: https://github.com/charmed-kubernetes/kubernetes-jenkins.git
          branches:
            - 'master'
        skip-tag: true
        fastpoll: true
        shallow-clone: true
        clean: {before: true}

- scm:
    name: k8s-jenkins-bm
    scm:
      - git:
          url: https://github.com/battlemidget/kubernetes-jenkins.git
          branches:
            - 'stokes-ogc'
        skip-tag: true
        fastpoll: true
        shallow-clone: true
        clean: {before: true}

- builder:
    name: virtualenvwrapper
    builders:
      - shell: |
          pip3 install --user virtualenvwrapper
          pip3 install --user virtualenv
          source ~/.local/bin/virtualenvwrapper.sh
          mktmpenv -n
          pip3 install -rrequirements.txt
- builder:
    name: virtualenvwrapper-deactivate
    builders:
      - shell: |
          deactivate
